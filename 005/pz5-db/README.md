# Практическая работа №5
# Николаенко Михаил ЭФМО-02-21

## Описание проекта и требования

Работа с задачами в БД: создание, чтение, фильтрация по статусу и получение задачи по id. Настройки пула соединений с PostgreSQL:

SetMaxOpenConns(10) — максимум 10 одновременно открытых соединений с БД. Значение подбирается по нагрузке и мощности машины, чтобы ограничить число соединений и не перегружать сервер, но при этом обеспечить параллелизм.

SetMaxIdleConns(5) — максимум 5 неактивных соединений, готовых к использованию без задержек. Обычно рекомендуется ставить меньше или равно max open connections.

SetConnMaxLifetime(30 * time.Minute) — максимальное время жизни соединения. Позволяет обновлять соединения, чтобы избежать проблем с их "старением" или потерей актуальности.

Значения подобраны умеренные для учебного проекта.

## Команды запуска/сборки

### Сборка приложения:

make build

### Запуск приложения:

make run

## Структура проекта
```
/project-root
├── main.go       # Главный файл с HTTP-сервером
├── db.go         # Работа с базой данных (подключение, конфигурация)
├── repository.go # Репозиторий с CRUD методами для задач
├── go.mod        # Модульные зависимости
├── go.sum        # Контрольные суммы зависимостей
├── README.md     # Документация проекта
├── .env          # Файл хранения конфигурации подключения к БД
├── Makefile      # Файл запуска проекта
└── PR5           # Папка со скриншотами
```
## Примечания по конфигурации

- Подключение к PostgreSQL происходит через строку подключения из переменной окружения DATABASE_URL.

## Скриншоты работы проекта

Проверка наличия ПО

![фото1](./PR5/Screenshot_1.png)

Создание БД через psql

![фото2](./PR5/Screenshot_2.png)

Инициализация проекта

![фото3](./PR5/Screenshot_3.png)

Запуск проекта

![фото4](./PR5/Screenshot_4.png)

Проверка через psql

![фото5](./PR5/Screenshot_5.png)

Запуск проекта после изменений

![фото6](./PR5/Screenshot_6.png)

Проверка через psql

![фото7](./PR5/Screenshot_8.png)

Структура проекта

![фото8](./PR5/Screenshot_7.png)